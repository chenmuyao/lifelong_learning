# 硬学C++之变量和记忆

<u>***知识清单：***</u>

- `bool`类型传入非0值则为真，其值为1（`true`）
- 如果传入超出范围的值，如`unsigned char c = 256`，则`c`为未定义状态，可能是任何值（也取决于编辑器）
- 编程时应该尽量不预设类型的长度，如果架构不同可能造成风险。——所以常使用规定长度的标准定义
- 奇怪的类型定义改写

```c
L'a'		//wide character literal, type is wchar_t
u8"hi!"		//utf-8 string literal (utf-8 encodes a Unicode character in 8 bits)
42ULL		//unsigned integer literal, type is unsigned long long
1E-3F		//single-precision floating-point literal, type is float
3.14159L	//extended-precision floating-point literal, type is long double
```

- 注意：**初始化不是赋值**。初始化是用一个初始值来创建变量；赋值用新的值替换旧的值。
- **C++的多种赋值方式尤其是List initialization需要在之后再研究，没有太搞懂不同赋值方式的特点。**
  - 使用`int a{0}` 这种list init方式赋值，如果类型要向下转换则会出现编译错误
- 使用一个外部变量需要用`extern`声明，不能直接进行赋值重写，需要先声名，再改写。——同一个变量不能被多次初始化
- 变量定义注意事项：
  - 不能有两个下划线，不能以一个下划线加大写字母开头，函数外的变量不能以下划线开头
  - Variable定义要小写，Class定义要大写首字母
  - 一般可用**student_loan**,或**studentLoan**两种方式
- `{}`决定了变量作用域；`for(int i;i<len; i++)`中`i`不能再`for`之外使用
- `{}`的嵌套，外的可以在内用，内的不能在外用（}结束变量就销毁）



今天学的内容比较枯燥，主要是关于**变量的类型**、**定义的方式**和**声明**。这些东西都是非常琐碎而有磨练人心性的东西，估计有不少人读到这都跳过了，心里想：“**这些东西反正网上也查得到，而且我知道在书上什么位置有了，之后用到了再回来看就可以**”。有这种想法无可厚非，毕竟在现在的工作环境中都很方便的能够获取到这些细节。

**可是可能到最后也一直也没有再看过，甚至没有再查过，以至于问题出现了，都不知道这是在曾经跳过的段落里。多年后重新读书才恍然大悟。**

这就是为什么经典的书常读常新，因为经典的书里面知识密度很高，设计又十分严谨，往往多次阅读都会有不少错过的地方，重新读来体会更深也是必然的了。

不过这里还想着重讨论两个问题，一个关于**记忆**，一个关于**视角**。

**在当今这个云端存储的时代，我们有没有必要记住很多事实性的东西？**这个问题我第一次看到是在庞德斯通的《知识大迁移》一书中，这本书当时看来写的不算精彩，写作上也比较拖沓，没有太大意思。但是作者提供的观点还是值得思考。庞德斯通对这个问题的答案是——**是的，而且很有必要**。

首先，在记忆转向云端的过程中，我们逐渐丧失了记忆的能力。经常感叹自己忘东西忘得快，其实这和年纪的增长的关系并没有想象的那么大，而是随着知道的东西越来越多，千头万绪都在脑子里面却无法形成一个完整的记忆链条，以至于知道的东西越多，记住的东西越少。这就是为什么我们要慢慢读书，只有慢慢读书才能给大脑消化的时间，构建更深入的连接，随着连接的不断加强，片段的信息就会联系成**线状**，最终才能和其他相关的信息形成**网状**乃至**立体**的结构。**不去记忆，永远都是一些散点。**

其次，记忆向云端转移的过程中，我们真正**学到的东西**没有变多，反而是学到东西**的感觉**大大增强。这容易催生我们的“达克效应”——**懂得越少越觉得自己懂的多**。很多人在现在可以对专业人士指手画脚，凭借的就是花几兆流量看来的百度百科和竞价广告。这种达克效应还有一个反面，就是**懂得越多越觉得自己知之甚少**，怎样才能走上这一条回路呢？不在于知道更多的皮毛，而只需要略作深入。有学到东西的感觉是很好的，这是一种正反馈，能够促进我们继续学习，可是如果没有继续学下去而只是浅尝辄止，仅仅满足于这种感觉，久而久之就会“成瘾”而丧失深入学习的能力。

最后，记忆对我们学习有着极大的促进作用，这种促进作用可以用吴伯凡老师的“**口令思维**”、“**刀锋竞争力**”和“**瞬间解码**”三个概念做完整的论述。“**口令思维**”就是以简御繁的方法，之所以能够以简御繁，就是因为掌握了识别和使用口令的能力，这些口令只有在记忆中才能快速提取，最终才能体会它的优势。很多时候，时间有限，容不得我们查询之后再作回答，只有记忆储备中的东西才能**瞬间解码**。想要瞬间解码就说明大量的知识需要**存入**大脑，并且以一种相对高效的方式**组织**，以便能够快速找到。这种大量用于瞬间解码的“口令”就形成了**刀锋以外的部分**，光有刀锋就很脆，经不住真正的考验，只有刀背厚实作支撑，刀锋才能真正显示自己的竞争力。

以上这一切都是成为一个专业人士必须要懂得的东西。作为一个业余玩家，我们可以浅尝辄止，收割简单的快感，但是要成为一个专业玩家，就一定要**慢而扎实的尽量记住更多的细节**。

最后简单说一下第二个问题，关于视角。在学习C++的这些语法规则的时候往往会陷入一种“记忆陷阱”，感觉很多东西都需要加入**记忆队列**，这样记忆队列里面的东西越来越多，就显得不堪重负。其实我们还可以把它们加入**理解队列**，去考虑一下为什么要这样设计。对于我们已经学到的这种水平而言，可能试图真正理解是不现实的，甚至很多时候是错误的，但是一种错误的理解也好于没有理解的单纯记忆。

什么是“错误”的理解，无非就是两种情况，一种是推论**逻辑不对**，另一种的**结果不对**。如果是逻辑不对，那么我们需要反思自己思考的过程，但如果逻辑没有问题，但是结果不对，那只能是我们还有未知的条件。这样在有了新的条件之后再重新做出推论就可以更新自己之前的想法。

所以理性的对待“错误”也是让我们敢于犯错，敢于通过**“正确的手段”**犯错，因为使用正确手段犯下的错不会是永远的错，反而会越来越接近真理，而如果手段是错误的（不去理解的记忆），则不会让自己接近真理半分，反而常常会陷入苦恼。

<u>***总结一下：***</u>

今天说的两件事情其实有所关联，一方面我们必须要记忆，另一方面对记忆我们也要抱持另一种视角——通过**记忆**我们训练的不是“记忆力”，而更多的是**理解力和洞察力**。这也是我为什么打算坚持每天写这些思考的原因，从一门计算机语言的学习引发开去，学到的很多都是人生的大智慧。



